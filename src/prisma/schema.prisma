// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "mysql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  name      String?
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
}

// enum OPENINGHOURS {
//   OPEN_NOW
// }

model GglPhotos {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())

  height             Int?
  width              Int?
  html_attributuions String?
  photo_reference    String

  gglNearbySearchRes GglNearbySearchRes[]
}

model GglPlusCode {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())

  compund_code String
  global_code  String

  gglNearbySearchRes GglNearbySearchRes[]
}

model Gglgeometry {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())

  location           String
  viewport           String
  GglNearbySearchRes GglNearbySearchRes[]
}

model GglNearbySearchRes {
  id                    Int          @id @default(autoincrement())
  createdAt             DateTime     @default(now())
  updatedAt             DateTime     @default(now())
  geometry              Gglgeometry? @relation(fields: [gglgeometryId], references: [id])
  icon                  String?
  icon_background_color String?
  icon_mask_base_uri    String?
  name                  String?
  opening_hours         Boolean
  place_id              String?
  price_level           Int?
  rating                Float?
  types                 String?
  user_ratings_total    Int?
  vicinity              String?
  plus_code             GglPlusCode? @relation(fields: [plus_codeId], references: [id])
  plus_codeId           Int?
  photos                GglPhotos[]
  gglgeometryId         Int?
}

model SearchHotelRes {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())

  min_total_price                   Float /// ex) 572.61373972
  gross_amount                      Float /// 총액, 부가세등의 세금과, 할인 금액을 계산한 최종 지불금액 ex) 572.61373972
  included_taxes_and_charges_amount Float /// 세금 포함한 금액
  net_amount                        Float /// 순액
  // all_inclusive_amount              Float /// 모두 포함한 금액 (?) <= 결과값으로 미루어 총액과 대부분 동일했음

  countrycode             String /// ex) en
  default_language        String /// ex) xu
  address                 String /// ex) 92-161 Waipahe Place
  city                    String /// ex) "Waianae",
  city_name_en            String /// ex) "Waianae",
  checkin                 String /// ex) {"until":"11:00","from":"10:00"}
  checkout                String /// ex) {"until":"11:00","from":"10:00"}
  distance                Float /// search한 geo location으로부터 거리 ex) 5.62
  review_score_word       String /// ex) Wonderful
  review_score            Float /// ex) 8.2
  // currency                String /// ex) USD
  currency_code           String /// ex) USD
  timezone                String /// ex) "Pacific/Honolulu",
  urgency_message         String? ///ex) "Only 1 left at this price on Booking.com"
  hotel_id                Int /// ex) 174704674
  // hotel_name_trans                  String /// 호텔이름으로 보임 ex) "Marriott's Ko Olina Beach Club"
  hotel_name              String ///  ex) Marriott's Ko Olina Beach Club
  latitude                Float /// 호텔 위도 ex) 21.3307348165897
  longitude               Float /// 호텔 경도 ex) -158.121508732438
  url                     String /// booking.com 예약 페이지 ex) https://www.booking.com/hotel/us/marriott-s-ko-olina-beach-club.html
  accommodation_type_name String /// ex) Resort, Hotel, Homestay, Vacation Home, etc ...
  zip                     String /// ex) HI 96792
  main_photo_url          String /// 대문 썸네일 ex) https://cf.bstatic.com/xdata/images/hotel/square60/280522794.jpg
  max_photo_url           String /// ex) https://cf.bstatic.com/xdata/images/hotel/max1280x900/280522794.jpg?k=bb16655bb4b95d3e5fdefaf39c1fbe4b1150e7eb3062b92eb635ad20b00404fb&o=
  hotel_facilities        String  @db.Text /// ex) "160,467,502,96,220,75,446,498,485,490,484,2,486,444,65,445,450,20,195,458,494,124,3,72,495,488,301,457,4,456,224,434,435,145,225,503,419,185,11,420,497,184,454,436,455,109,468,437,440,496,51,460,448,433,23,441,179,505,504,7,461,104,493,459,421,48,442,439,47,506,107,25,499,422,81,108,451,492,28,253,449,222,305,182,489,16,22,8,491,159,418,161,80,49,443,117"
  // has_swimming_pool       Int /// ex) 1
}
